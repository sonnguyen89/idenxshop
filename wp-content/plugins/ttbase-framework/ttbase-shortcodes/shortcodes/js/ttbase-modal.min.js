var mr_cookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,a,o,t,r,l){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var n="";if(o)switch(o.constructor){case Number:n=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:n="; expires="+o;break;case Date:n="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(a)+n+(r?"; domain="+r:"")+(t?"; path="+t:"")+(l?"; secure":""),!0},removeItem:function(e,a,o){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(a?"; path="+a:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),a=e.length,o=0;o<a;o++)e[o]=decodeURIComponent(e[o]);return e}};jQuery(function(e){e(document).ready(function(){if(jQuery(".ttbase-modal").length){jQuery('<div class="modal-screen">').appendTo("body")}jQuery(document).on("wheel mousewheel scroll",".ttbase-modal, .modal-screen",function(e){return jQuery(this).get(0).scrollTop+=e.originalEvent.deltaY,!1}),jQuery(".modal-container").each(function(e){jQuery(this).find("iframe[src]").length&&(jQuery(this).find(".ttbase-modal").addClass("iframe-modal"),jQuery("iframe",this).appendTo(".iframe-modal"),jQuery(".iframe-modal > div",this).remove(),jQuery(this).find(".ttbase-modal").clone().appendTo("body"))}),jQuery(".btn-modal").click(function(){var e=jQuery("div").closest("body").find('.ttbase-modal[modal-link="'+jQuery(this).attr("modal-link")+'"]');return jQuery(".modal-screen").toggleClass("reveal-modal"),e.find("iframe").length&&e.find("iframe").attr("src",e.find("iframe").attr("data-src")),e.toggleClass("reveal-modal"),!1}),jQuery(".ttbase-modal[modal-link][data-time-delay]").each(function(){var e=jQuery(this),a=e.attr("data-time-delay");e.prepend(jQuery('<i class="ti-close close-modal">')),"undefined"!=typeof e.attr("data-cookie")?mr_cookies.hasItem(e.attr("data-cookie"))||setTimeout(function(){e.addClass("reveal-modal"),jQuery(".modal-screen").addClass("reveal-modal")},a):setTimeout(function(){jQuery(".ttbase-modal").removeClass("reveal-modal"),jQuery(".modal-screen").removeClass("reveal-modal"),e.addClass("reveal-modal"),jQuery(".modal-screen").addClass("reveal-modal")},a)}),jQuery(".close-modal:not(.modal-strip .close-modal)").click(function(){var e=jQuery(this).closest(".ttbase-modal");e.toggleClass("reveal-modal"),"undefined"!=typeof e.attr("data-cookie")&&mr_cookies.setItem(e.attr("data-cookie"),"true",1/0),jQuery(".modal-screen").toggleClass("reveal-modal"),e.find("iframe").attr("data-src",e.find("iframe").attr("src")),e.find("iframe").attr("src","")}),jQuery(".modal-screen").click(function(){jQuery(".ttbase-modal.reveal-modal").toggleClass("reveal-modal"),jQuery(this).toggleClass("reveal-modal")}),jQuery(document).keyup(function(e){27==e.keyCode&&(jQuery(".ttbase-modal").removeClass("reveal-modal"),jQuery(".modal-screen").removeClass("reveal-modal"))})})});